<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="stylesheet" href="coloris.min.css">
    <link rel="stylesheet" href="petal.css">
    <title>Petal</title>
  </head>
  <body id="main">
    <div id="content-wrapper">
      <nav>
        <a class="homeLink" href=".">lynnya.live</a>
        <a class="kofiLink" href="https://ko-fi.com/lynnya" target="_blank">Ko-fi</a>
        <a href="chat">Chat only</a>
      </nav>
      <div id="stream-wrapper">
        <video id="stream" controls></video>
        <div id="stream-info">
          <div id="streamTitle"></div>
          <div id="streamInfoMenu" class="hidden">
            <p><b>Stream history</b></p><hr>
            <ul data-stream-history></ul>
          </div>
        </div>
      </div>
    </div>
    <div id="chat">
      <div id="backToLatest" class="hidden">Back to latest message</div>
      <img id="petal" src="favicon.ico" draggable="false">
      <div id="menu" class="hidden">
        <div id="menuTabs">
          <div id="profileTab" class="menuTab active" data-page="profilePage">Profile</div>
          <div id="statsTab" class="menuTab" data-page="statsPage">Stats</div>
          <div id="inventoryTab" class="menuTab" data-page="inventoryPage">Inventory</div>
          <div id="settingsTab" class="menuTab" data-page="settingsPage">Settings</div>
        </div>
        <div id="menuPages">
          <div id="profilePage" class="menuPage active">
            <p>Change name / colors</p>
            <div id="userProfile" class="msg-group mt-md mb-sm" data-profile-background>
              <img id="changeAvatar" class="avatar cursor-inherit" src="avatars/anon.png" data-profile-avatar>
              <div class="col">
                <div id="userProfileNameRow">
                  <div id="userProfileName" class="author" autocomplete="off" autocorrect="off" spellcheck="false" data-profile-name>anon</div>
                  <svg id="editNameIcon" width="16" height="17" xmlns="http://www.w3.org/2000/svg">
                    <g>
                      <path fill="none" stroke-width="1.5" d="m13.30503,1.07433l1.566,1.247c0.1512,0.14233 0.2365,0.34113 0.2353,0.54881c-0.0011,0.20767 -0.0885,0.40553 -0.2413,0.54619l-1.19,1.424l-4.049,4.82902c-0.0709,0.0811 -0.1652,0.1381 -0.27,0.163l-2.1,0.476c-0.2755,0.0138 -0.5154,-0.1865 -0.551,-0.46l0,-2.158c0.0071,-0.1041 0.049,-0.2027 0.119,-0.28l3.974,-4.49302l1.364,-1.629c0.2698,-0.35372 0.7634,-0.44613 1.143,-0.214z"/>
                      <path d="m7.63803,3.65808c0.4142,0 0.75,-0.33578 0.75,-0.75c0,-0.41421 -0.3358,-0.75 -0.75,-0.75l0,1.5zm-2.79999,-0.75l0,-0.75l-0.0018,0l0.0018,0.75zm-3.733,3.75005l0.75,0l0,-0.0017l-0.75,0.0017zm0,5.625l0.75,0.0016l0,-0.0016l-0.75,0zm3.733,3.75l-0.0018,0.75l0.0018,0l0,-0.75zm5.59999,0l0,0.75l0.0018,0l-0.0018,-0.75zm3.733,-3.75l-0.75,0l0,0.0016l0.75,-0.0016zm0.75,-3.75c0,-0.4143 -0.3358,-0.75 -0.75,-0.75c-0.4142,0 -0.75,0.3357 -0.75,0.75l1.5,0zm-3.4297,-5.80924c-0.1581,-0.38287 -0.5966,-0.56512 -0.9795,-0.40706c-0.3829,0.15806 -0.5651,0.59657 -0.407,0.97944l1.3865,-0.57238zm2.3456,2.93751c0.4044,-0.0894 0.6598,-0.48975 0.5704,-0.8942c-0.0894,-0.40445 -0.4897,-0.65985 -0.8942,-0.57044l0.3238,1.46464zm-9.93189,6.80973c-0.41421,0 -0.75,0.3357 -0.75,0.75c0,0.4142 0.33579,0.75 0.75,0.75l0,-1.5zm7.46699,1.5c0.4142,0 0.75,-0.3358 0.75,-0.75c0,-0.4143 -0.3358,-0.75 -0.75,-0.75l0,1.5zm-3.734,-11.81305l-2.79999,0l0,1.5l2.79999,0l0,-1.5zm-2.80179,0c-2.4804,0.00596 -4.48651,2.02121 -4.4812,4.50165l1.5,-0.0033c-0.00354,-1.65208 1.33268,-2.99438 2.9848,-2.99835l-0.0036,-1.5zm-4.4812,4.50005l0,5.625l1.5,0l0,-5.625l-1.5,0zm0,5.6233c-0.00531,2.4804 2.0008,4.4957 4.4812,4.5017l0.0036,-1.5c-1.65212,-0.004 -2.98834,-1.3463 -2.9848,-2.9984l-1.5,-0.0033zm4.483,4.5017l5.59999,0l0,-1.5l-5.59999,0l0,1.5zm5.60179,0c2.4804,-0.006 4.4865,-2.0213 4.4812,-4.5017l-1.5,0.0033c0.0035,1.6521 -1.3327,2.9944 -2.9848,2.9984l0.0036,1.5zm4.4812,-4.5l0,-3.75l-1.5,0l0,3.75l1.5,0zm-4.8162,-8.98686c0.1949,0.47213 0.5925,1.14131 1.1868,1.65837c0.6078,0.52891 1.4813,0.94197 2.5453,0.70676l-0.3238,-1.46464c-0.465,0.10279 -0.869,-0.05364 -1.2369,-0.37373c-0.3815,-0.33195 -0.6578,-0.79127 -0.7849,-1.09914l-1.3865,0.57238zm-6.19979,10.67486l7.46699,0l0,-1.5l-7.46699,0l0,1.5z"/>
                    </g>
                  </svg>
                </div>
                <div id="userProfileMessage" class="msg" data-profile-message>test message!</div>
              </div>
            </div>
            <input id="nameColor" type="text" data-coloris><input id="messageColor" type="text" data-coloris><input id="backgroundColor" type="text" data-coloris><button id="changeNameColor" class="mt-sm mb-sm hidden">Name</button><button id="changeMessageColor" class="ml-sm mb-sm hidden">Message</button><button id="changeBackgroundColor" class="ml-sm mb-sm hidden">Background</button><br>
            <div class="mb-sm">
              <input id="enterPassword" class="hidden mt-sm mb-md" type="password" placeholder="Enter password for name">
              <button id="saveProfile" class="good mr-sm hidden">Save</button><button id="resetProfile" class="bad hidden">Reset</button>
              <div class="menuInfoText hidden" data-profile-info></div>
            </div>
            <hr class="mt-lg mb-lg">
            <label for="profileBio">Bio</label><br>
            <textarea id="profileBio" class="mt-md mb-sm" spellcheck="false" data-profile-bio></textarea><br>
            <button id="saveBio" class="good hidden">Save</button>
            <div class="menuInfoText hidden" data-bio-info></div>
          </div>
          <div id="statsPage" class="menuPage">
            <p><span class="currencyName">Petal</span>s: <b data-stats-currency>0</b><span class="currencyEmoji">&#x1F33A;</span></p>
            <p><span class="premiumCurrencyName">Blossom</span>s: <b data-stats-premium-currency>0</b><span class="premiumCurrencyEmoji">&#x1F338;</span></p>
            <hr class="mt-md mb-md">
            <p>Total <span class="currencyName">Petal</span>s earned: <b data-stats-currency-earned>0</b><span class="currencyEmoji">&#x1F33A;</span> (<b data-stats-currency-earned-from-sub>0</b> from sub bonus)</p>
            <p>Total <span class="premiumCurrencyName">Blossom</span>s earned: <b><span data-stats-premium-currency-earned>0</span></b><span class="premiumCurrencyEmoji">&#x1F338;</span> (<b data-stats-premium-currency-claimed>0</b> from subs / donations)</p>
            <hr class="mt-md mb-md">
            <p>Sub status: <span data-stats-sub-status>inactive</span></p>
            <div class="hidden" data-stats-sub-only>
              <p>Subbed until: <span data-stats-sub-time></span></p>
              <p>Sub streak: <span data-stats-sub-streak></span></p>
            </div>
            <hr class="mt-md mb-md">
            <p>Sub months total: <span data-stats-months-subbed>0</span></p>
            <p>Sub total: $<span data-stats-subs-total>0</span></p>
            <p>Donations: $<span data-stats-donations>0</span></p>
            <p>Total: $<span data-stats-kofi-total>0</span></p>
          </div>
          <div id="inventoryPage" class="menuPage">
            Inventory update coming soon...
          </div>
          <div id="settingsPage" class="menuPage">
            <label for="changePassword">Change password</label><br>
            <input id="changePassword" class="ml-xs mt-sm mb-xs" type="password" placeholder="Enter password"><br>
            <input id="confirmPassword" class="ml-xs mb-sm" type="password" placeholder="Confirm password"><div class="menuInfoText ml-sm hidden" data-password-info>Does not match</div><button id="savePassword" class="ml-sm good hidden">Save</button>
            <hr class="mt-lg mb-lg">
            <label for="kofi">Update Ko-fi email</label><br>
            <input id="kofi" class="ml-xs mt-sm mb-sm" type="email" placeholder="kofi@example.com"><div class="menuInfoText ml-sm hidden" data-kofi-info>Invalid email</div><button id="saveKofi" class="ml-sm good hidden">Save</button>
            <hr class="mt-lg mb-lg">
            <p class="mb-md">Client settings</p>
            <div class="smaller">
              <label for="theme" class="ml-xs">Theme:</label>
              <select id="theme" class="mb-md">
                <option value="dark" selected>Dark</option>
              </select><br>
              <label for="autoReconnect" class="ml-xs">Auto-reconnect:</label> <input id="autoReconnect" class="mb-lg" type="checkbox" checked><br>
              <label for="showConnectionEvents" class="ml-xs">Show connection events:</label> <input id="showConnectionEvents" class="mb-lg" type="checkbox" checked><br>
              <label for="messageScrollThreshold" class="ml-xs">Scroll threshold:</label> <span data-message-scroll-threshold>250px</span><br>
              <input type="range" id="messageScrollThreshold" class="ml-xs mr-xs" min="0" step="10" value="250" max="500">
            </div>
          </div>
        </div>
      </div>
      <div id="messages"></div>
      <textarea id="entry" spellcheck="false"></textarea>
    </div>
    <div id="profilePopover" class="hidden">
      <div id="profilePopoverRow">
        <img id="profilePopoverAvatar" src="avatars/anon.png" data-profile-popover-avatar>
        <div id="profilePopoverName" data-profile-popover-name>anon</div>
      </div>
      <div id="profilePopoverBio" data-profile-popover-bio></div>
    </div>
    <ul id="messageContextMenu" class="hidden bad" data-id="">
      <li class="bad">Delete message</li>
    </ul>
    <script src="purify.min.js"></script>
    <script src="coloris.min.js"></script>
    <script src="petal.js"></script>
  </body>
</html>
